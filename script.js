$(document).ready(function () {
  var board = Board(),
      canvas = document.getElementById('canvas'),
      context = canvas.getContext("2d"),
      whitePawn1   = Piece('white-pawn', board.positions.find(function (obj) { return obj.label ===  'A2'})),
      whitePawn2   = Piece('white-pawn', board.positions.find(function (obj) { return obj.label ===  'B2'})),
      whitePawn3   = Piece('white-pawn', board.positions.find(function (obj) { return obj.label ===  'C2'})),
      whitePawn4   = Piece('white-pawn', board.positions.find(function (obj) { return obj.label ===  'D2'})),
      whitePawn5   = Piece('white-pawn', board.positions.find(function (obj) { return obj.label ===  'E2'})),
      whitePawn6   = Piece('white-pawn', board.positions.find(function (obj) { return obj.label ===  'F2'})),
      whitePawn7   = Piece('white-pawn', board.positions.find(function (obj) { return obj.label ===  'G2'})),
      whitePawn8   = Piece('white-pawn', board.positions.find(function (obj) { return obj.label ===  'H2'})),
      whiteBishop1 = Piece('white-bishop', board.positions.find(function (obj) { return obj.label ===  'C1'})),
      whiteBishop2 = Piece('white-bishop', board.positions.find(function (obj) { return obj.label ===  'F1'})),
      whiteKnight1 = Piece('white-knight', board.positions.find(function (obj) { return obj.label ===  'B1'})),
      whiteKnight2 = Piece('white-knight', board.positions.find(function (obj) { return obj.label ===  'G1'})),
      whiteTower1  = Piece('white-tower', board.positions.find(function (obj) { return obj.label ===  'A1'})),
      whiteTower2  = Piece('white-tower', board.positions.find(function (obj) { return obj.label ===  'H1'})),
      whiteKing    = Piece('white-king', board.positions.find(function (obj) { return obj.label ===  'E1'})),
      whiteQueen   = Piece('white-queen', board.positions.find(function (obj) { return obj.label ===  'D1'})),
      blackPawn1   = Piece('black-pawn', board.positions.find(function (obj) { return obj.label ===  'A7'})),
      blackPawn2   = Piece('black-pawn', board.positions.find(function (obj) { return obj.label ===  'B7'})),
      blackPawn3   = Piece('black-pawn', board.positions.find(function (obj) { return obj.label ===  'C7'})),
      blackPawn4   = Piece('black-pawn', board.positions.find(function (obj) { return obj.label ===  'D7'})),
      blackPawn5   = Piece('black-pawn', board.positions.find(function (obj) { return obj.label ===  'E7'})),
      blackPawn6   = Piece('black-pawn', board.positions.find(function (obj) { return obj.label ===  'F7'})),
      blackPawn7   = Piece('black-pawn', board.positions.find(function (obj) { return obj.label ===  'G7'})),
      blackPawn8   = Piece('black-pawn', board.positions.find(function (obj) { return obj.label ===  'H7'})),
      blackBishop1 = Piece('black-bishop', board.positions.find(function (obj) { return obj.label ===  'C8'})),
      blackBishop2 = Piece('black-bishop', board.positions.find(function (obj) { return obj.label ===  'F8'})),
      blackKnight1 = Piece('black-knight', board.positions.find(function (obj) { return obj.label ===  'B8'})),
      blackKnight2 = Piece('black-knight', board.positions.find(function (obj) { return obj.label ===  'G8'})),
      blackTower1  = Piece('black-tower', board.positions.find(function (obj) { return obj.label ===  'A8'})),
      blackTower2  = Piece('black-tower', board.positions.find(function (obj) { return obj.label ===  'H8'})),
      blackKing    = Piece('black-king', board.positions.find(function (obj) { return obj.label ===  'E8'})),
      blackQueen   = Piece('black-queen', board.positions.find(function (obj) { return obj.label ===  'D8'}))

  var pieces = [
    whitePawn1,
    whitePawn2,
    whitePawn3,
    whitePawn4,
    whitePawn5,
    whitePawn6,
    whitePawn7,
    whitePawn8,
    whiteBishop1,
    whiteBishop2,
    whiteKnight1,
    whiteKnight2,
    whiteTower1,
    whiteTower2,
    whiteKing,
    whiteQueen,
    blackPawn1,
    blackPawn2,
    blackPawn3,
    blackPawn4,
    blackPawn5,
    blackPawn6,
    blackPawn7,
    blackPawn8,
    blackBishop1,
    blackBishop2,
    blackKnight1,
    blackKnight2,
    blackTower1,
    blackTower2,
    blackKing,
    blackQueen
  ]

  board.init(context, pieces)
  canvas.addEventListener("mousedown", board.click, false)
})